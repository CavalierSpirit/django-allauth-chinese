## 配置

可用配置：

**ACCOUNT_ADAPTER (=”allauth.account.adapter.DefaultAccountAdapter”)**

&emsp;&emsp;指定需要使用的适配器类，从而允许您更改某些默认行为。

**ACCOUNT_AUTHENTICATED_LOGIN_REDIRECTS (=True)**

&emsp;&emsp;默认行为是当经过身份验证的用户尝试访问登陆或注册页面时重定向到 `LOGIN_REDIRECT_URL`。

&emsp;&emsp;通过将此设置更改为 `False`，登陆的用户在访问登陆和注册页面时将不会被重定向。

**ACCOUNT_AUTHENTICATION_METHOD (=”username” | “email” | “username_email”)**

&emsp;&emsp;指定登陆使用的方法 - 无论用户是通过输入用户名、邮箱地址还是两者之一来进行登陆。该设置选择 “email” 时需要设置 `ACCOUNT_EMAIL_REQUIRED=True`。

**ACCOUNT_CONFIRM_EMAIL_ON_GET (=False)**

&emsp;&emsp;确认是否通过 GET 请求自动确认邮箱地址。尽管 GET 通常用于邮件确认，但它并不旨在用于[更改服务器的状态](https://softwareengineering.stackexchange.com/questions/188860/why-shouldnt-a-get-request-change-data-on-the-server) 。为避免需要用户交互，请考虑在邮件确认模板中使用 Javascript 进行 POST，作为将其设置为 True 的替代方法。

**ACCOUNT_EMAIL_CONFIRMATION_ANONYMOUS_REDIRECT_URL (=settings.LOGIN_URL)**

&emsp;&emsp;如果用户通过身份验证，成功确认邮件后重定向到的URL。设置为 `None` 从而使用 `settings.LOGIN_REDIRECT_URL`。

**ACCOUNT_EMAIL_CONFIRMATION_EXPIRE_DAYS (=3)**

&emsp;&emsp;确定确认邮件的过期日期（天数）。

**ACCOUNT_EMAIL_CONFIRMATION_HMAC (=True)**

&emsp;&emsp;为了验证邮箱地址会发送一个秘钥，以标识要验证的邮箱地址。在以前的版本中，每个正在进行的确认邮件都会将记录存储在数据库中，从而追踪这些秘钥。当前版本使用基于 HMAC 的秘钥，不需要服务器端的状态。

**ACCOUNT_EMAIL_REQUIRED (=False)**

&emsp;&emsp;注册时需要用户登记邮箱地址。

**ACCOUNT_EMAIL_VERIFICATION (="optional")**

&emsp;&emsp;确定注册期间的邮件验证方法，选择 `"mandatory"`（强制），`"optional"`（可选）或者 `"none"`（无）其中之一。

&emsp;&emsp;将此设置为 "mandatory" 时要求 “ACCOUNT_EMAIL_REQUIRED” 设置为 “True”。

&emsp;&emsp;设置为 "mandatory" 时，将阻止用户登录，知道邮箱地址被验证。选择 “option” 或者 “none” 时允许使用未经验证的邮箱地址登陆。在 “option” 的情况下，仍发送邮箱验证邮件，而在 “none” 的情况下，不发送邮箱验证邮件。

**ACCOUNT_EMAIL_SUBJECT_PREFIX (="[Site]")**

&emsp;&emsp;发送电子邮件的主题行前缀。默认情况下使用当前站点的名称（`django.contrib.sites）。

**ACCOUNT_DEFAULT_HTTP_PROTOCOL (="http")**

&emsp;&emsp;例如处理忘记密码的步骤中，生成 URLs 使用的默认协议。请注意，这仅是默认配置 - 有关更多信息请参见 HTTPS 部分。

**ACCOUNT_EMAIL_CONFIRMATION_COOLDOWN (=180)**

&emsp;&emsp;发送确认邮件后的冷却时间（以秒为单位），在此期间不会在发送邮件。请注意，如果你使用的是 HMAC 验证方式，则此冷却将会被忽略，并且需要您通过设置 `ACCOUNT_EMAIL_CONFIRMATION_HMAC=False` 禁用 HMAC 使用冷却时间。

**ACCOUNT_EMAIL_MAX_LENGTH(=254)**

&emsp;&emsp;邮件字段的最大长度。除非将 MySQL 与 InnoDB 存储引擎和 `utf8mb4` 字符集一起使用，并且仅在低于 5.7.7 的版本中使用，否则您无需更改此设置，因为默认的 InnoDB 设置不允许索引大于 767 字节。